# High level APIs

Besides the core functions and classes provided by the `birdeec` module, Birdee provides high level APIs that are written in Python based on the core APIs, to make it easier to do meta-programming using the scripts. The module names include `bdconst`, `bdassert`, `bdutils`, and `traits`. You can import the module in your scripts.

## bdutils

This module provides some most handy functions that you may frequently need in your scripts. The functions falls into the following categroies.

### AST creation and insertion

The `make_*`  functions in this section create an AST node for the given type. The `set_*` functions create the AST and call the `birdeec.set_ast` function to insert the created AST to the current script AST.

```python 
def make_int(n: int)-> StatementASTUniquePtr : ...
def set_int(n: int): ...

def make_uint(n: int)-> StatementASTUniquePtr : ...
def set_uint(n: int): ...

def make_long(n: int)-> StatementASTUniquePtr : ...
def set_long(n: int): ...

def make_ulong(n: int)-> StatementASTUniquePtr : ...
def set_ulong(n: int): ...

# c should be a string of length 1. This function
# sets the script AST to the ASCII code of the character
def set_char(c: str)-> StatementASTUniquePtr : ...

def make_float(n: float)-> StatementASTUniquePtr : ...
def set_float(n: float): ...

def make_double(n: float)-> StatementASTUniquePtr : ...
def set_double(n: float): ...

def make_bool(n: bool)-> StatementASTUniquePtr : ...
def set_bool(n: bool): ...

def make_str(s: str)-> StatementASTUniquePtr : ...
def set_str(s: str): ...

def set_expr(s: str): ...
def set_stmt(s: str): ...

# resolve and set a type
def resolve_set_type(s: str): ...
```

### Utilities for templates

These functions are utilities for getting information from the templates or functions.

```python
#Get the template argument of the current class at a specific index
def get_cls_templ_at(idx)->TemplateArgument: ...
#Get the template argument of the current class at a specific index, and makes sure it is a type
def get_cls_type_templ_at(idx)-> ResolvedType: ...
#Get the template argument of the current class at a specific index, and makes sure it is an expression
def get_cls_expr_templ_at(idx)-> ExprASTUniquePtr: ...
#Get and set the template argument of the current class at a specific index as a type
def cls_templ_type_at(idx): ...
#Get and set the template argument of the current class at a specific index as a expression
def cls_templ_expr_at(idx): ...

#Get the definition of a parameter of a function
def get_func_arg_at(func: FunctionAST,idx)->VariableSingleDefAST: ...
#Get the template argument at a specific index of a function (by default the current function) 
def get_func_templ_at(idx, thefunc = None)->->TemplateArgument: ...
#Get the template argument as a type of the a function at a specific index (by default from the current function) 
def get_func_type_templ_at(idx, thefunc = None)-> ResolvedType: ...
#Get the template argument as an expression of the a function at a specific index (by default from the current function) 
def get_func_expr_templ_at(idx, thefunc = None)-> ExprASTUniquePtr: ...
#Get and set the template argument of a function at a specific index as a type (by default from the current function)
def func_templ_type_at(idx, thefunc = None):...
#Get and set the template argument of a function at a specific index as a type (by default from the current function)
def func_templ_expr_at(idx, thefunc = None):...
```